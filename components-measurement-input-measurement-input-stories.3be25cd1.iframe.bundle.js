"use strict";(self.webpackChunkloglines_component=self.webpackChunkloglines_component||[]).push([[7567],{"./src/components/measurement-input/measurement-input.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>measurement_input_stories});var react=__webpack_require__("./node_modules/react/index.js"),common_service=__webpack_require__("./src/services/common.service.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function MeasurementInput(_ref){var _props$label;let{options,measurement,setMeasurement,defaultOption,required=!1,disabled=!1,disabledVariant="gray",type="number",useUppercaseLabel=!1,borderError,...props}=_ref;const[dropdownOpen,setDropdownOpen]=(0,react.useState)(!1),dropdownRef=(0,react.useRef)(null),[focus,setFocus]=(0,react.useState)(!1),[customValue,setCustomValue]=(0,react.useState)(props.useDecimalFormat&&measurement.qty?(0,common_service.Yh)(Number(measurement.qty)):""),isRequired=required?"required":"",labelFocus=focus||dropdownOpen?"themes-text-brand-v5":"",isDisabled=disabled?`disabled-${disabledVariant}`:"",borderFocus=focus||dropdownOpen?"themes-border-brand-v5":"",cursorDisabled=disabled?"":"cursor-pointer";return(0,react.useEffect)(()=>{const handleClickOutside=event=>{dropdownRef.current&&!dropdownRef.current.contains(event.target)&&(setDropdownOpen(!1),setFocus(!1))};if(document.addEventListener("mousedown",handleClickOutside),defaultOption){const value=defaultOption.value,unitLabel=defaultOption.label,data={...measurement,unit:value,unitLabel};setMeasurement(data)}return()=>{document.removeEventListener("mousedown",handleClickOutside)}},[]),(0,react.useEffect)(()=>{if(props.useDecimalFormat){const formattedValue=measurement.qty?(0,common_service.Yh)(Number(measurement.qty)):"";setCustomValue(formattedValue),setMeasurement(measurement)}},[null==measurement?void 0:measurement.qty]),(0,jsx_runtime.jsxs)("div",{className:"measurement-input-container css-measurement-container",ref:dropdownRef,children:[(0,jsx_runtime.jsxs)("div",{className:"css-measurement-input-container w-full h-inherit",children:[props.label&&(0,jsx_runtime.jsx)("label",{children:(0,jsx_runtime.jsx)("div",{className:"h-[1px]",children:(0,jsx_runtime.jsx)("p",{className:`${isRequired} ${labelFocus}`,children:useUppercaseLabel?null===(_props$label=props.label)||void 0===_props$label?void 0:_props$label.toUpperCase():props.label})})}),(0,jsx_runtime.jsxs)("div",{className:`css-measurement-input flex rounded border ${borderError} ${borderFocus}`,children:[(0,jsx_runtime.jsx)("input",{type,value:props.useDecimalFormat?customValue:measurement.qty,onChange:e=>{const value=e.target.value,data={...measurement,qty:""===value?void 0:value};props.useDecimalFormat?setCustomValue(value):setMeasurement(data)},placeholder:(null==props?void 0:props.placeholder)||"Enter here",className:`${borderFocus} ${isDisabled}`,onFocus:()=>{setFocus(!0)},disabled,onBlur:()=>{props.useDecimalFormat&&(()=>{let numericValue=customValue.replace(/[^0-9.]/g,"");const parts=numericValue.split(".");parts.length>2&&(numericValue=parts[0]+"."+parts.slice(1).join(""));const parsedValue=parseFloat(numericValue)||0,formattedValue=(0,common_service.Yh)(parsedValue);setMeasurement({...measurement,qty:parsedValue.toString()}),setCustomValue(formattedValue)})()},...props}),(0,jsx_runtime.jsxs)("div",{className:`unit ccs-measurement-unit ${isDisabled}`,onClick:data=>!disabled&&(data.stopPropagation(),void setDropdownOpen(!dropdownOpen)),children:[(0,jsx_runtime.jsx)("span",{className:"border-l pl-2 pr-2",children:null!=measurement&&measurement.unitLabel?null==measurement?void 0:measurement.unitLabel:"SELECT"}),(0,jsx_runtime.jsx)("i",{className:`${dropdownOpen?"ri-arrow-up-s-line":"ri-arrow-down-s-line"} ${cursorDisabled}`})]})]})]}),dropdownOpen&&(0,jsx_runtime.jsx)("div",{className:"dropdown-list css-measurement-dropdown-container",children:options.length?options.map(unitOption=>{const activeClass=unitOption.value===(null==measurement?void 0:measurement.unit)?"themes-bg-brand-v2":"themes-bg-white";return(0,jsx_runtime.jsx)("div",{onClick:()=>{(selectedOption=>{const value=selectedOption.value,unitLabel=selectedOption.label,data={...measurement,unit:value,unitLabel};setMeasurement(data),setDropdownOpen(!1)})(unitOption),props.additionalSelectOption&&props.additionalSelectOption(unitOption)},className:`${activeClass} css-measurement-dropdown-item p-2 cursor-pointer rounded themes-bg-hover-gray-v5:hover`,children:(null==unitOption?void 0:unitOption.customLabelOption)||unitOption.label},unitOption.value)}):(0,jsx_runtime.jsx)("div",{className:"themes-bg-white h-10 flex items-center justify-center themes-text-gray-v5",children:"No options"})})]})}const measurement_input_component=MeasurementInput;MeasurementInput.__docgenInfo={description:"",methods:[],displayName:"MeasurementInput",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"IDropdownItem",elements:[{name:"T"}],raw:"IDropdownItem<T>"}],raw:"IDropdownItem<T>[]"},description:""},measurement:{required:!0,tsType:{name:"IMeasurement"},description:""},setMeasurement:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: IMeasurement) => void",signature:{arguments:[{type:{name:"IMeasurement"},name:"option"}],return:{name:"void"}}},description:""},defaultOption:{required:!1,tsType:{name:"IDropdownItem"},description:""},borderError:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},label:{required:!1,tsType:{name:"string"},description:""},disabledVariant:{required:!1,tsType:{name:"union",raw:"'white' | 'gray'",elements:[{name:"literal",value:"'white'"},{name:"literal",value:"'gray'"}]},description:"",defaultValue:{value:"'gray'",computed:!1}},type:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'number'",computed:!1}},useUppercaseLabel:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},useDecimalFormat:{required:!1,tsType:{name:"boolean"},description:""},additionalSelectOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: IDropdownItem<T>) => void",signature:{arguments:[{type:{name:"IDropdownItem",elements:[{name:"T"}],raw:"IDropdownItem<T>"},name:"data"}],return:{name:"void"}}},description:""}}};const measurement_input_stories={title:"Components/MeasurementInput",component:measurement_input_component,argTypes:{label:{control:"text"},placeholder:{control:"text"},required:{control:"boolean"},disabled:{control:"boolean"},borderError:{control:"text"}}},Default=(args=>{const[measurement,setMeasurement]=(0,react.useState)({qty:"",unit:"",unitLabel:""});return(0,jsx_runtime.jsx)(measurement_input_component,{...args,measurement,setMeasurement:val=>{setMeasurement(val)}})}).bind({});Default.args={label:"Quantity",placeholder:"Enter quantity",options:[{label:"Kg",value:"kg"},{label:"Gram",value:"g"},{label:"Liter",value:"l"}],required:!1,disabled:!1,borderError:"",useDecimalFormat:!0};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => {\n  // local state to control measurement (qty + unit)\n  const [measurement, setMeasurement] = useState<IMeasurement>({\n    qty: '',\n    unit: '',\n    unitLabel: ''\n  });\n  return <MeasurementInput {...args} measurement={measurement} setMeasurement={val => {\n    setMeasurement(val);\n  }} />;\n}",...Default.parameters?.docs?.source}}}},"./src/config/tmp_package.json":module=>{module.exports=JSON.parse('{"Tc":"release-2025.08.07.21.31.36"}')},"./src/services/common.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Yh:()=>formatDecimalNumber,Yq:()=>formatDate,qC:()=>numberWithCommas});var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/moment/moment.js"),moment__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/config/config-i18n.service.ts"),__webpack_require__("./src/config/tmp_package.json");const formatDate=(dateString,typeFormat,typeFormatSource)=>{const date=typeFormatSource?moment__WEBPACK_IMPORTED_MODULE_0___default()(dateString,typeFormatSource):moment__WEBPACK_IMPORTED_MODULE_0___default()(dateString);if(!date.isValid()||!dateString)return"";return date.format(typeFormat||"DD/MM/YYYY")},numberWithCommas=x=>null==x?void 0:x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");const formatDecimalNumber=value=>{if(!value)return"0.00";const valueString=value.toString();return valueString.includes(".")?numberWithCommas(valueString):numberWithCommas(value.toFixed(2))}}}]);