"use strict";(self.webpackChunkloglines_component=self.webpackChunkloglines_component||[]).push([[7567],{"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_defineProperty});var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function _defineProperty(e,r,t){return(r=(0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__.A)(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}},"./node_modules/@babel/runtime/helpers/esm/objectSpread2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_objectSpread2});var _defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread2(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}},"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}__webpack_require__.d(__webpack_exports__,{A:()=>_objectWithoutProperties})},"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>toPropertyKey});var esm_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/typeof.js");function toPropertyKey(t){var i=function toPrimitive(t,r){if("object"!=(0,esm_typeof.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=(0,esm_typeof.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==(0,esm_typeof.A)(i)?i:i+""}},"./node_modules/@babel/runtime/helpers/esm/typeof.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}__webpack_require__.d(__webpack_exports__,{A:()=>_typeof})},"./src/components/measurement-input/measurement-input.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>measurement_input_stories});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),common_service=__webpack_require__("./src/services/common.service.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["options","measurement","setMeasurement","defaultOption","required","disabled","disabledVariant","type","useUppercaseLabel","borderError"];function MeasurementInput(_ref){var _props$label;let{options,measurement,setMeasurement,defaultOption,required=!1,disabled=!1,disabledVariant="gray",type="number",useUppercaseLabel=!1,borderError}=_ref,props=(0,objectWithoutProperties.A)(_ref,_excluded);const[dropdownOpen,setDropdownOpen]=(0,react.useState)(!1),dropdownRef=(0,react.useRef)(null),[focus,setFocus]=(0,react.useState)(!1),[customValue,setCustomValue]=(0,react.useState)(props.useDecimalFormat&&measurement.qty?(0,common_service.Yh)(Number(measurement.qty)):""),isRequired=required?"required":"",labelFocus=focus||dropdownOpen?"themes-text-brand-v5":"",isDisabled=disabled?"disabled-".concat(disabledVariant):"",borderFocus=focus||dropdownOpen?"themes-border-brand-v5":"",cursorDisabled=disabled?"":"cursor-pointer";return(0,react.useEffect)((()=>{const handleClickOutside=event=>{dropdownRef.current&&!dropdownRef.current.contains(event.target)&&(setDropdownOpen(!1),setFocus(!1))};if(document.addEventListener("mousedown",handleClickOutside),defaultOption){const value=defaultOption.value,unitLabel=defaultOption.label,data=(0,objectSpread2.A)((0,objectSpread2.A)({},measurement),{},{unit:value,unitLabel});setMeasurement(data)}return()=>{document.removeEventListener("mousedown",handleClickOutside)}}),[]),(0,react.useEffect)((()=>{if(props.useDecimalFormat){const formattedValue=measurement.qty?(0,common_service.Yh)(Number(measurement.qty)):"";setCustomValue(formattedValue),setMeasurement(measurement)}}),[null==measurement?void 0:measurement.qty]),(0,jsx_runtime.jsxs)("div",{className:"measurement-input-container css-measurement-container",ref:dropdownRef,children:[(0,jsx_runtime.jsxs)("div",{className:"css-measurement-input-container w-full h-inherit",children:[props.label&&(0,jsx_runtime.jsx)("label",{children:(0,jsx_runtime.jsx)("div",{className:"h-[1px]",children:(0,jsx_runtime.jsx)("p",{className:"".concat(isRequired," ").concat(labelFocus),children:useUppercaseLabel?null===(_props$label=props.label)||void 0===_props$label?void 0:_props$label.toUpperCase():props.label})})}),(0,jsx_runtime.jsxs)("div",{className:"css-measurement-input flex rounded border ".concat(borderError," ").concat(borderFocus),children:[(0,jsx_runtime.jsx)("input",(0,objectSpread2.A)({type,value:props.useDecimalFormat?customValue:measurement.qty,onChange:e=>{const value=e.target.value,data=(0,objectSpread2.A)((0,objectSpread2.A)({},measurement),{},{qty:""===value?void 0:value});props.useDecimalFormat?setCustomValue(value):setMeasurement(data)},placeholder:(null==props?void 0:props.placeholder)||"Enter here",className:"".concat(borderFocus," ").concat(isDisabled),onFocus:()=>{setFocus(!0)},disabled,onBlur:()=>{props.useDecimalFormat&&(()=>{let numericValue=customValue.replace(/[^0-9.]/g,"");const parts=numericValue.split(".");parts.length>2&&(numericValue=parts[0]+"."+parts.slice(1).join(""));const parsedValue=parseFloat(numericValue)||0,formattedValue=(0,common_service.Yh)(parsedValue);setMeasurement((0,objectSpread2.A)((0,objectSpread2.A)({},measurement),{},{qty:parsedValue.toString()})),setCustomValue(formattedValue)})()}},props)),(0,jsx_runtime.jsxs)("div",{className:"unit ccs-measurement-unit ".concat(isDisabled),onClick:data=>!disabled&&(data.stopPropagation(),void setDropdownOpen(!dropdownOpen)),children:[(0,jsx_runtime.jsx)("span",{className:"border-l pl-2 pr-2",children:null!=measurement&&measurement.unitLabel?null==measurement?void 0:measurement.unitLabel:"SELECT"}),(0,jsx_runtime.jsx)("i",{className:"".concat(dropdownOpen?"ri-arrow-up-s-line":"ri-arrow-down-s-line"," ").concat(cursorDisabled)})]})]})]}),dropdownOpen&&(0,jsx_runtime.jsx)("div",{className:"dropdown-list css-measurement-dropdown-container",children:options.length?options.map((unitOption=>{const activeClass=unitOption.value===(null==measurement?void 0:measurement.unit)?"themes-bg-brand-v2":"themes-bg-white";return(0,jsx_runtime.jsx)("div",{onClick:()=>{(selectedOption=>{const value=selectedOption.value,unitLabel=selectedOption.label,data=(0,objectSpread2.A)((0,objectSpread2.A)({},measurement),{},{unit:value,unitLabel});setMeasurement(data),setDropdownOpen(!1)})(unitOption),props.additionalSelectOption&&props.additionalSelectOption(unitOption)},className:"".concat(activeClass," css-measurement-dropdown-item p-2 cursor-pointer rounded themes-bg-hover-gray-v5:hover"),children:(null==unitOption?void 0:unitOption.customLabelOption)||unitOption.label},unitOption.value)})):(0,jsx_runtime.jsx)("div",{className:"themes-bg-white h-10 flex items-center justify-center themes-text-gray-v5",children:"No options"})})]})}const measurement_input_component=MeasurementInput;MeasurementInput.__docgenInfo={description:"",methods:[],displayName:"MeasurementInput",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"IDropdownItem",elements:[{name:"T"}],raw:"IDropdownItem<T>"}],raw:"IDropdownItem<T>[]"},description:""},measurement:{required:!0,tsType:{name:"IMeasurement"},description:""},setMeasurement:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: IMeasurement) => void",signature:{arguments:[{type:{name:"IMeasurement"},name:"option"}],return:{name:"void"}}},description:""},defaultOption:{required:!1,tsType:{name:"IDropdownItem"},description:""},borderError:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},label:{required:!1,tsType:{name:"string"},description:""},disabledVariant:{required:!1,tsType:{name:"union",raw:"'white' | 'gray'",elements:[{name:"literal",value:"'white'"},{name:"literal",value:"'gray'"}]},description:"",defaultValue:{value:"'gray'",computed:!1}},type:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'number'",computed:!1}},useUppercaseLabel:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},useDecimalFormat:{required:!1,tsType:{name:"boolean"},description:""},additionalSelectOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: IDropdownItem<T>) => void",signature:{arguments:[{type:{name:"IDropdownItem",elements:[{name:"T"}],raw:"IDropdownItem<T>"},name:"data"}],return:{name:"void"}}},description:""}}};const measurement_input_stories={title:"Components/MeasurementInput",component:measurement_input_component,argTypes:{label:{control:"text"},placeholder:{control:"text"},required:{control:"boolean"},disabled:{control:"boolean"},borderError:{control:"text"}}},Default=(args=>{const[measurement,setMeasurement]=(0,react.useState)({qty:"",unit:"",unitLabel:""});return(0,jsx_runtime.jsx)(measurement_input_component,(0,objectSpread2.A)((0,objectSpread2.A)({},args),{},{measurement,setMeasurement:val=>{setMeasurement(val)}}))}).bind({});Default.args={label:"Quantity",placeholder:"Enter quantity",options:[{label:"Kg",value:"kg"},{label:"Gram",value:"g"},{label:"Liter",value:"l"}],required:!1,disabled:!1,borderError:"",useDecimalFormat:!0};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => {\n  // local state to control measurement (qty + unit)\n  const [measurement, setMeasurement] = useState<IMeasurement>({\n    qty: '',\n    unit: '',\n    unitLabel: ''\n  });\n  return <MeasurementInput {...args} measurement={measurement} setMeasurement={val => {\n    setMeasurement(val);\n  }} />;\n}",...Default.parameters?.docs?.source}}}},"./src/services/common.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Yh:()=>formatDecimalNumber,Yq:()=>formatDate,qC:()=>numberWithCommas});var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/moment/moment.js"),moment__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/config/config-i18n.service.ts");const formatDate=(dateString,typeFormat,typeFormatSource)=>{const date=typeFormatSource?moment__WEBPACK_IMPORTED_MODULE_0___default()(dateString,typeFormatSource):moment__WEBPACK_IMPORTED_MODULE_0___default()(dateString);if(!date.isValid()||!dateString)return"";return date.format(typeFormat||"DD/MM/YYYY")},numberWithCommas=x=>null==x?void 0:x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");const formatDecimalNumber=value=>{if(!value)return"0.00";const valueString=value.toString();return valueString.includes(".")?numberWithCommas(valueString):numberWithCommas(value.toFixed(2))}}}]);