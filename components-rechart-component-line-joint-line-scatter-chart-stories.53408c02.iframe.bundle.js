"use strict";(self.webpackChunkloglines_component=self.webpackChunkloglines_component||[]).push([[1946],{"./src/components/rechart-component/line/joint-line-scatter-chart.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>joint_line_scatter_chart_stories});var react=__webpack_require__("./node_modules/react/index.js"),ResponsiveContainer=__webpack_require__("./node_modules/recharts/es6/component/ResponsiveContainer.js"),ScatterChart=__webpack_require__("./node_modules/recharts/es6/chart/ScatterChart.js"),CartesianGrid=__webpack_require__("./node_modules/recharts/es6/cartesian/CartesianGrid.js"),XAxis=__webpack_require__("./node_modules/recharts/es6/cartesian/XAxis.js"),YAxis=__webpack_require__("./node_modules/recharts/es6/cartesian/YAxis.js"),ZAxis=__webpack_require__("./node_modules/recharts/es6/cartesian/ZAxis.js"),Tooltip=__webpack_require__("./node_modules/recharts/es6/component/Tooltip.js"),Scatter=__webpack_require__("./node_modules/recharts/es6/cartesian/Scatter.js"),bar_loading_component=__webpack_require__("./src/components/rechart-component/loading/bar-loading.component.tsx"),common_service=__webpack_require__("./src/services/common.service.ts"),empty_result_component=__webpack_require__("./src/components/empty-result/empty-result.component.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const JointLineScatterChart=_ref=>{let{data,tickItems,isLoading,customEmpityResultComponent,customBuildTooltip}=_ref;const[XAxisProps,setXAxisProps]=(0,react.useState)({tick:[1,2,3,4,5,6,7,8,9,10,11,12],domain:[1,12]}),monthFormatter=tick=>tickItems?tickItems[tick-1]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][tick-1],[YAxisCssProperties]=(0,react.useState)({fontSize:14}),CustomTick=_ref2=>{let{x,y,payload}=_ref2;const matchingData=data.line1.find(item=>item.x===payload.value)||data.line2.find(item=>item.x===payload.value);return(0,jsx_runtime.jsxs)("g",{transform:`translate(${x},${y})`,children:[(0,jsx_runtime.jsx)("text",{x:0,y:0,dy:12,textAnchor:"middle",fill:"#20384E",fontSize:"12px",children:monthFormatter(payload.value)}),(0,jsx_runtime.jsx)("text",{x:0,y:0,dy:22,textAnchor:"middle",fill:"#C0C7CD",fontSize:"12px",children:null==matchingData?void 0:matchingData.secName})]})},CustomTooltip=tooltipProps=>{const{active,payload,chartData}=tooltipProps;if(customBuildTooltip)return customBuildTooltip(tooltipProps);if(active&&payload&&payload.length){var _payload$,_payload$$payload,_payload$2,_payload$2$payload;const findkeyItems=chartData.key.find(item=>item.id===payload[0].payload.keyId),sameData=(arr=>{const countMap={};return arr.forEach(line=>{countMap[line.y]=(countMap[line.y]||0)+1}),arr.filter(line=>countMap[line.y]>1)})([chartData.line1[payload[0].payload.x-1],chartData.line2[payload[0].payload.x-1],chartData.line3&&chartData.line3[payload[0].payload.x-1]].filter(line=>void 0!==line));return(0,jsx_runtime.jsx)("div",{className:"custom-tooltip p-2 rounded-md themes-bg-gray-v9 opacity-80 themes-text-white flex flex-col gap-2 max-w-[200px] ",children:sameData.length?sameData.map(item=>{const findkeyItems2=chartData.key.find(item2=>item2.id===item.keyId);return(0,jsx_runtime.jsxs)("div",{className:"flex",children:[(0,jsx_runtime.jsx)("div",{className:"min-w-[20px] max-w-[20px] w-[20px] h-[20px] bg-white rounded-md mr-2",style:{backgroundColor:null==findkeyItems2?void 0:findkeyItems2.color}}),(0,jsx_runtime.jsx)("p",{className:"label 2xl:text-size-S text-size-XS",children:`${null==findkeyItems2?void 0:findkeyItems2.label}: ${null!=item&&item.customLabelTooltip?item.customLabelTooltip:(0,common_service.qC)(item.y.toString())}`})]})}):(0,jsx_runtime.jsxs)("div",{className:"flex",children:[(0,jsx_runtime.jsx)("div",{className:"min-w-[20px] max-w-[20px] w-[20px] h-[20px] bg-white rounded-md mr-2",style:{backgroundColor:null==findkeyItems?void 0:findkeyItems.color}}),(0,jsx_runtime.jsx)("p",{className:"label 2xl:text-size-S text-size-XS",children:`${null==findkeyItems?void 0:findkeyItems.label}: ${null!==(_payload$=payload[0])&&void 0!==_payload$&&null!==(_payload$$payload=_payload$.payload)&&void 0!==_payload$$payload&&_payload$$payload.customLabelTooltip?null===(_payload$2=payload[0])||void 0===_payload$2||null===(_payload$2$payload=_payload$2.payload)||void 0===_payload$2$payload?void 0:_payload$2$payload.customLabelTooltip:(0,common_service.qC)(payload[0].payload.y)}`})]})})}return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})},empityResultComponent=customEmpityResultComponent||(0,jsx_runtime.jsx)(empty_result_component.A,{className:"w-full",message:"Data not found"}),tickCustomeFormatter=value=>value>=1e9?`${(value/1e9).toFixed(1)}B`:value>=1e6?`${(value/1e6).toFixed(1)}M`:value>=1e3?`${(value/1e3).toFixed(1)}K`:value.toString();return(0,react.useEffect)(()=>{(async()=>{if(null==tickItems||!tickItems.length)return;const _tick=await Array.from({length:null==tickItems?void 0:tickItems.length},(_,idx)=>idx+1),domain=[1,null==tickItems?void 0:tickItems.length];setXAxisProps({tick:_tick,domain})})()},[tickItems]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:isLoading?(0,jsx_runtime.jsx)(bar_loading_component.A,{}):(()=>{const isLine1Zero=data.line1.every(item=>0===item.y),isLine2Zero=data.line2.every(item=>0===item.y),isLine3Zero=null==data||!data.line3||(null==data?void 0:data.line3.every(item=>0===item.y));return isLine1Zero&&isLine2Zero&&isLine3Zero})()?empityResultComponent:(0,jsx_runtime.jsx)("div",{className:"w-full h-full flex flex-row-reverse",children:(0,jsx_runtime.jsx)(ResponsiveContainer.u,{children:(0,jsx_runtime.jsxs)(ScatterChart.t,{margin:{top:20,right:15,left:(()=>{var _data$line,_ref3;const maxValue=Math.max(...data.line1.map(item=>Math.max(item.y)),...data.line2.map(item=>Math.max(item.y)),...(null===(_data$line=data.line3)||void 0===_data$line?void 0:_data$line.map(item=>Math.max(item.y)))||[]),maxLength=tickCustomeFormatter(Math.round(maxValue)).toString().length,x=null!==(_ref3=YAxisCssProperties.fontSize)&&void 0!==_ref3?_ref3:0,initialInterval=.5*x-1;return.5*x-(maxValue<.4?20:maxValue<4?30:37)+(initialInterval*maxLength-initialInterval)})(),bottom:-15},className:"text-size-XS",children:[(0,jsx_runtime.jsx)(CartesianGrid.d,{strokeDasharray:"3 3"}),(0,jsx_runtime.jsx)(XAxis.W,{type:"number",dataKey:"x",domain:XAxisProps.domain,height:60,tickFormatter:monthFormatter,ticks:XAxisProps.tick,tickLine:!1,tick:(0,jsx_runtime.jsx)(CustomTick,{}),interval:0}),(0,jsx_runtime.jsx)(YAxis.h,{type:"number",dataKey:"y",name:"value1",tickFormatter:value=>tickCustomeFormatter(value)}),(0,jsx_runtime.jsx)(ZAxis.K,{type:"number",range:[180]}),(0,jsx_runtime.jsx)(Tooltip.m,{content:tooltipProps=>(0,jsx_runtime.jsx)(CustomTooltip,{...tooltipProps,chartData:data})}),data.key.map((item,idx)=>(0,jsx_runtime.jsx)(Scatter.X,{name:item.id,data:data[item.id],fill:item.color,line:!0},`data-chart-item-${idx}`))]})})})})},joint_line_scatter_chart_component=JointLineScatterChart;JointLineScatterChart.__docgenInfo={description:"",methods:[],displayName:"JointLineScatterChart",props:{data:{required:!0,tsType:{name:"IDataJointChart"},description:""},tickItems:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},customEmpityResultComponent:{required:!1,tsType:{name:"JSX.Element"},description:""},customBuildTooltip:{required:!1,tsType:{name:"signature",type:"function",raw:"(\n    tooltipProps: ICustomTooltipLineScatterProps\n) => JSX.Element",signature:{arguments:[{type:{name:"ICustomTooltipLineScatterProps"},name:"tooltipProps"}],return:{name:"JSX.Element"}}},description:""}}};const joint_line_scatter_chart_stories={title:"Chart/JointLineScatterChart",component:joint_line_scatter_chart_component,tags:["autodocs"],args:{data:{key:[{id:"line1",color:"#4caf50",label:"Line 1"},{id:"line2",color:"#2196f3",label:"Line 2"},{id:"line3",color:"#ff9800",label:"Line 3"}],line1:[{x:1,y:100,keyId:"line1"},{x:2,y:200,keyId:"line1"},{x:3,y:150,keyId:"line1"}],line2:[{x:1,y:80,keyId:"line2"},{x:2,y:120,keyId:"line2"},{x:3,y:180,keyId:"line2"}],line3:[{x:1,y:90,keyId:"line3"},{x:2,y:160,keyId:"line3"},{x:3,y:130,keyId:"line3"}]},tickItems:["Jan","Feb","Mar"],isLoading:!1,customEmpityResultComponent:void 0,customBuildTooltip:void 0},render:args=>(0,jsx_runtime.jsx)("div",{className:"w-full h-[350px]",children:(0,jsx_runtime.jsx)(joint_line_scatter_chart_component,{...args})})},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}}},"./src/components/rechart-component/loading/bar-loading.component.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const BarLoading=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:"py-3 animate-pulse space-y- flex flex-col h-full w-full justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"bg-gray-300 rounded w-1/4 h-6"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"bg-gray-300 rounded w-1/4 h-6"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"relative flex justify-between items-end space-x-4 w-full overflow-hidden",children:Array.from({length:5}).map((_,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"bg-purple-300 rounded w-1",style:{height:100*Math.random()+"%"}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"bg-gray-300 rounded w-12 h-[20px]"})]},index))})]}),__WEBPACK_DEFAULT_EXPORT__=BarLoading;BarLoading.__docgenInfo={description:"",methods:[],displayName:"BarLoading"}},"./src/config/tmp_package.json":module=>{module.exports=JSON.parse('{"Tc":"release-2025.08.07.21.31.36"}')},"./src/services/common.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Yh:()=>formatDecimalNumber,Yq:()=>formatDate,qC:()=>numberWithCommas});var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/moment/moment.js"),moment__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/config/config-i18n.service.ts"),__webpack_require__("./src/config/tmp_package.json");const formatDate=(dateString,typeFormat,typeFormatSource)=>{const date=typeFormatSource?moment__WEBPACK_IMPORTED_MODULE_0___default()(dateString,typeFormatSource):moment__WEBPACK_IMPORTED_MODULE_0___default()(dateString);if(!date.isValid()||!dateString)return"";return date.format(typeFormat||"DD/MM/YYYY")},numberWithCommas=x=>null==x?void 0:x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");const formatDecimalNumber=value=>{if(!value)return"0.00";const valueString=value.toString();return valueString.includes(".")?numberWithCommas(valueString):numberWithCommas(value.toFixed(2))}}}]);