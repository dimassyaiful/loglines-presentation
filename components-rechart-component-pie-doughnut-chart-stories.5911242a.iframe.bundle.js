"use strict";(self.webpackChunkloglines_component=self.webpackChunkloglines_component||[]).push([[6762],{"./src/components/rechart-component/pie/doughnut-chart.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>doughnut_chart_stories});var ResponsiveContainer=__webpack_require__("./node_modules/recharts/es6/component/ResponsiveContainer.js"),PieChart=__webpack_require__("./node_modules/recharts/es6/chart/PieChart.js"),Pie=__webpack_require__("./node_modules/recharts/es6/polar/Pie.js"),Tooltip=__webpack_require__("./node_modules/recharts/es6/component/Tooltip.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const DonutLoading=()=>{const[diameter,setDiameter]=(0,react.useState)(0),ref=(0,react.useRef)(null);return(0,react.useLayoutEffect)(()=>{const handleResize=()=>{if(ref.current){const diameter=Math.min(.4*ref.current.offsetWidth,ref.current.offsetHeight);setDiameter(diameter)}};return handleResize(),window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize)}},[]),(0,jsx_runtime.jsxs)("div",{className:"flex items-center space-x-8 p- w-full animate-pulse ",ref,children:[(0,jsx_runtime.jsxs)("div",{className:"relative aspect-square",style:{width:diameter,height:diameter},children:[(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 bg-purple-200 rounded-full"}),(0,jsx_runtime.jsx)("div",{className:"absolute inset-4 bg-white rounded-full"})]}),(0,jsx_runtime.jsx)("div",{className:"space-y-4 flex-grow",children:Array.from({length:3}).map((_,index)=>(0,jsx_runtime.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,jsx_runtime.jsx)("div",{className:"bg-gray-300 rounded w-8 h-4"}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,jsx_runtime.jsx)("div",{className:"bg-gray-300 rounded w-28 h-4"}),(0,jsx_runtime.jsx)("div",{className:"bg-gray-300 rounded w-16 h-3"})]})]},index))})]})},donat_loading_component=DonutLoading;DonutLoading.__docgenInfo={description:"",methods:[],displayName:"DonutLoading"};var empty_result_component=__webpack_require__("./src/components/empty-result/empty-result.component.tsx");function DoughnutChart(_ref){let{data,isLoading=!1,colorChart,...props}=_ref;const responsiveContainerClassnames=props.responsiveContainerClassnames?props.responsiveContainerClassnames:"",CustomTooltip=_ref2=>{let{active,payload,label}=_ref2;if(active&&payload&&payload.length){const{name,value}=payload[0];let customTooltip="";var _payload$,_payload$$payload;if(props.renderTextLegendAndTooltip)customTooltip=props.renderTextLegendAndTooltip({value:Number(value),additionalValue:null===(_payload$=payload[0])||void 0===_payload$||null===(_payload$$payload=_payload$.payload)||void 0===_payload$$payload?void 0:_payload$$payload.additionalValue});else customTooltip=(null==value?void 0:value.toLocaleString())||"";return(0,jsx_runtime.jsxs)("div",{className:"custom-tooltip p-2 rounded-md themes-bg-gray-v9 opacity-80 themes-text-white flex items-center max-w-[200px] ",children:[(0,jsx_runtime.jsx)("div",{className:"min-w-[20px] max-w-[20px] w-[20px] h-[20px] bg-white rounded-md mr-2",style:{backgroundColor:payload[0].payload.fill}}),(0,jsx_runtime.jsx)("p",{className:"label 2xl:text-size-S text-size-XS",children:`${name}: ${customTooltip}`})]})}return null},isEmpityData=data.every(data=>0===data.value),empityResultComponent=props.customEmpityResultComponent?props.customEmpityResultComponent:(0,jsx_runtime.jsx)(empty_result_component.A,{className:"w-full",message:"Data not found"});return isLoading?(0,jsx_runtime.jsx)(donat_loading_component,{}):isEmpityData?empityResultComponent:(0,jsx_runtime.jsxs)("div",{className:"h-fit grid grid-cols-12 gap-3 doughnut-chart-container",children:[(0,jsx_runtime.jsx)(ResponsiveContainer.u,{className:` !col-span-6 lg:!col-span-5 !h-[150px] ${responsiveContainerClassnames}`,children:(0,jsx_runtime.jsxs)(PieChart.r,{className:"",children:[(0,jsx_runtime.jsx)(Pie.F,{data,cx:"50%",cy:"50%",innerRadius:"60%",outerRadius:"100%",fill:"#8884d8",paddingAngle:0,dataKey:"value",startAngle:90,endAngle:-270}),(0,jsx_runtime.jsx)(Tooltip.m,{content:(0,jsx_runtime.jsx)(CustomTooltip,{})})]})}),colorChart||(item=>{const totalValue=item.reduce((acc,itemData)=>acc+itemData.value,0);return(0,jsx_runtime.jsx)("div",{className:"flex flex-grow w-[140px] gap-3 flex-wrap h-fit flex-initial",children:item.map((itemData,index)=>{const{value,name,fill,textColor}=itemData,percentage=Number((value/totalValue*100).toFixed(2));let formattedValue="";return formattedValue=props.renderTextLegendAndTooltip?props.renderTextLegendAndTooltip({value:itemData.value,additionalValue:itemData.additionalValue}):value.toLocaleString(),(0,jsx_runtime.jsx)("div",{className:"flex 2xl:text-size-S text-size-XS leading-none",children:(0,jsx_runtime.jsxs)("div",{className:"2xl:w-[103px] xl:w-[61px] w-[140px]",children:[(0,jsx_runtime.jsx)("div",{className:"themes-text-gray-v9 pt-1 text-ellipsis overflow-hidden text-nowrap",children:name}),(0,jsx_runtime.jsx)("div",{className:"themes-text-gray-v9 2xl:text-size-S text-size-XS font-bold overflow-hidden text-ellipsis text-nowrap ",children:`${formattedValue}`}),(0,jsx_runtime.jsx)("div",{style:{background:`${fill}`},className:"w-full h-4 px-1 bg-red-100 rounded justify-center items-center gap-1 inline-flex ",children:(0,jsx_runtime.jsxs)("div",{style:{color:`${textColor}`},className:" font-bold leading-[18px]",children:[percentage||0,"%"]})})]})},index)})})})(data)]})}const doughnut_chart_component=DoughnutChart;DoughnutChart.__docgenInfo={description:"",methods:[],displayName:"DoughnutChart",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"IPieChartData",elements:[{name:"T"}],raw:"IPieChartData<T>"}],raw:"IPieChartData<T>[]"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},colorChart:{required:!1,tsType:{name:"JSX.Element"},description:""},renderTextLegendAndTooltip:{required:!1,tsType:{name:"signature",type:"function",raw:"({\r\n    value,\r\n    additionalValue,\r\n}: {\r\n    value?: number\r\n    additionalValue?: T\r\n}) => string",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\r\n    value?: number\r\n    additionalValue?: T\r\n}",signature:{properties:[{key:"value",value:{name:"number",required:!1}},{key:"additionalValue",value:{name:"T",required:!1}}]}},name:""}],return:{name:"string"}}},description:""},customEmpityResultComponent:{required:!1,tsType:{name:"JSX.Element"},description:""},responsiveContainerClassnames:{required:!1,tsType:{name:"string"},description:""}}};const doughnut_chart_stories={title:"Chart/DoughnutChart",component:doughnut_chart_component,tags:["autodocs"],args:{data:[{name:"Category A",value:45,fill:"#4caf50",textColor:"#000",additionalValue:{description:"Desc A",percentage:45}},{name:"Category B",value:25,fill:"#2196f3",textColor:"#fff",additionalValue:{description:"Desc B",percentage:25}},{name:"Category C",value:30,fill:"#ff9800",textColor:"#000",additionalValue:{description:"Desc C",percentage:30}}],isLoading:!1,renderTextLegendAndTooltip:_ref=>{let{value,additionalValue}=_ref;return`Value: ${value}`},responsiveContainerClassnames:"w-full h-64"},render:args=>(0,jsx_runtime.jsx)("div",{className:args.responsiveContainerClassnames,children:(0,jsx_runtime.jsx)(doughnut_chart_component,{...args})})},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}}}}]);